"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),FuckMyScroll=function(){function t(e){var o=e.speed,n=e.init,c=e.end,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;_classCallCheck(this,t),this.opts={},this.opts.speed=o||7,this.opts.init=n||function(){},this.opts.end=c||function(){},this.context=l}return _createClass(t,[{key:"init",value:function(){var t=this,e=document.querySelectorAll("*[fmscroll]");[].forEach.call(e,function(e){var o=e.getAttribute("href"),n=t.context[e.getAttribute("fms-init")]||function(){},c=t.context[e.getAttribute("fms-end")]||function(){};e.onclick=function(t){var e=this;t.preventDefault();var l=this.context.scrollX,r=this.context.scrollY;this.context.scroll(0,0);var i="#"===o.substr(0,1)?o.substr(1):o,s=document.getElementById(i),u=s.getBoundingClientRect(),f=u.top,a=u.left;this.context.scroll(l,r),this.opts.init(i),n(),this.scrollTo(a,f).then(function(){e.opts.end(i),c()})}})}},{key:"scrollTo",value:function(t,e){var o=this;return new Promise(function(n){var c=o.context.scrollY,l=o.context.scrollX,r=o.opts.speed;if(c>e&&c-e>1||e>c&&e-c>1||t>l&&t-c>1||l>t&&l-t>1){var i=void 0,s=void 0;i=c>e?c-e>r?c-r:c-(c-e):c===e?c:e-c>r?c+r:c+(e-c),s=l>t?l-t>r?l-r:l-(l-t):l===t?l:t-l>r?l+r:l+(t-l),o.context.scroll(s,i),i=c!==o.context.scrollY?i:0,s=l!==o.context.scrollX?s:0,i||s?setTimeout(function(){o.scrollTo(t,e).then(n)},1):n()}else n()})}}]),t}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=FuckMyScroll);