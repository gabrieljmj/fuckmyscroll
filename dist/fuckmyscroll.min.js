"use strict";function _classCallCheck(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function o(o,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(t,n,e){return n&&o(t.prototype,n),e&&o(t,e),t}}(),FuckMyScroll=function(){function o(t){_classCallCheck(this,o),this.opts={},this.opts.speed=t.speed||7,this.opts.init=t.init||function(){},this.opts.end=t.end||function(){}}return _createClass(o,[{key:"init",value:function(){var o=document.querySelectorAll("*[fmscroll]"),t=this;[].forEach.call(o,function(o){var n=o.getAttribute("href");o.onclick=function(o){o.preventDefault();var e=window.scrollX,l=window.scrollY;window.scroll(0,0);var r="#"===n.substr(0,1)?n.substr(1):n,i=document.getElementById(r),c=i.getBoundingClientRect(),s=c.top,u=c.left;window.scroll(e,l),t.opts.init(r),t.scrollTo(u,s).then(function(){t.opts.end(r)})}})}},{key:"scrollTo",value:function(o,t){var n=this,e=this;return new Promise(function(l){var r=window.scrollY,i=window.scrollX,c=n.opts.speed;if(r>t&&r-t>1||t>r&&t-r>1){var s=void 0,u=void 0;s=r>t?r-t>c?r-c:r-(r-t):r===t?r:t-r>c?r+c:r+(t-r),u=i>o?i-o>c?i-c:i-(i-o):i===o?i:o-i>c?i+c:i+(o-i),window.scroll(u,s),s=r!==window.scrollY?s:0,u=i!==window.scrollX?u:0,s||u?setTimeout(function(){e.scrollTo(o,t).then(l)},1):l()}})}}]),o}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol?"symbol":typeof o};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=FuckMyScroll);