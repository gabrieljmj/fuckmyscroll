"use strict";function _classCallCheck(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,o){for(var e=0;e<o.length;e++){var n=o[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(o,e,n){return e&&t(o.prototype,e),n&&t(o,n),o}}(),FuckMyScroll=function(){function t(o){var e=o.speed,n=o.init,l=o.end,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;_classCallCheck(this,t),this.opts={},this.opts.speed=e||7,this.opts.init=n||function(){},this.opts.end=l||function(){},this.context=c}return _createClass(t,[{key:"init",value:function(){var t=document.querySelectorAll("*[fmscroll]");[].forEach.call(t,function(t){var o=t.getAttribute("href");t.onclick=function(t){var e=this;t.preventDefault();var n=this.context.scrollX,l=this.context.scrollY;this.context.scroll(0,0);var c="#"===o.substr(0,1)?o.substr(1):o,r=document.getElementById(c),i=r.getBoundingClientRect(),s=i.top,u=i.left;this.context.scroll(n,l),this.opts.init(c),this.scrollTo(u,s).then(function(){e.opts.end(c)})}})}},{key:"scrollTo",value:function(t,o){var e=this;return new Promise(function(n){var l=e.context.scrollY,c=e.context.scrollX,r=e.opts.speed;if(l>o&&l-o>1||o>l&&o-l>1||t>c&&t-l>1||c>t&&c-t>1){var i=void 0,s=void 0;i=l>o?l-o>r?l-r:l-(l-o):l===o?l:o-l>r?l+r:l+(o-l),s=c>t?c-t>r?c-r:c-(c-t):c===t?c:t-c>r?c+r:c+(t-c),e.context.scroll(s,i),i=l!==e.context.scrollY?i:0,s=c!==e.context.scrollX?s:0,i||s?setTimeout(function(){e.scrollTo(t,o).then(n)},1):n()}else n()})}}]),t}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=FuckMyScroll);