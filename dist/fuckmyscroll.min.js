"use strict";function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),FuckMyScroll=function(){function t(n){_classCallCheck(this,t),this.opts={},this.opts.speed=n.speed||7,this.opts.init=n.init||function(){},this.opts.end=n.end||function(){}}return _createClass(t,[{key:"init",value:function(){var t=document.querySelectorAll("*[fmscroll]"),n=this;[].forEach.call(t,function(t){var e=t.getAttribute("href");t.onclick=function(t){t.preventDefault();var o=window.scrollX,i=window.scrollY;window.scroll(0,0);var l="#"===e.substr(0,1)?e.substr(1):e,r=document.getElementById(l),c=r.getBoundingClientRect(),s=c.top,u=c.left;window.scroll(o,i),n.opts.init(l),n.scrollTo(u,s).then(function(){n.opts.end(l)})}})}},{key:"scrollTo",value:function(t,n){var e=this,o=this;return new Promise(function(i){var l=window.scrollY,r=window.scrollX,c=e.opts.speed;if(l>n&&l-n>1||n>l&&n-l>1){var s=void 0,u=void 0;s=l>n?l-n>c?l-c:l-(l-n):l===n?l:n-l>c?l+c:l+(n-l),u=r>t?r-t>c?r-c:r-(r-t):r===t?r:t-r>c?r+c:r+(t-r),window.scroll(u,s),l!==window.scrollY?setTimeout(function(){o.scrollTo(t,n).then(i)},1):i()}})}}]),t}();